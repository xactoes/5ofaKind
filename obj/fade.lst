                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.6 #12539 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module fade
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _fadeFromBlack
                                     12 	.globl _fadeToBlack
                                     13 	.globl _betterDelay
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 ;--------------------------------------------------------
                                     18 ; ram data
                                     19 ;--------------------------------------------------------
                                     20 	.area _DATA
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _INITIALIZED
                                     25 ;--------------------------------------------------------
                                     26 ; absolute external ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DABS (ABS)
                                     29 ;--------------------------------------------------------
                                     30 ; global & static initialisations
                                     31 ;--------------------------------------------------------
                                     32 	.area _HOME
                                     33 	.area _GSINIT
                                     34 	.area _GSFINAL
                                     35 	.area _GSINIT
                                     36 ;--------------------------------------------------------
                                     37 ; Home
                                     38 ;--------------------------------------------------------
                                     39 	.area _HOME
                                     40 	.area _HOME
                                     41 ;--------------------------------------------------------
                                     42 ; code
                                     43 ;--------------------------------------------------------
                                     44 	.area _CODE
                                     45 ;func/fade.c:11: void fadeToBlack(unsigned int delayTime){
                                     46 ;	---------------------------------
                                     47 ; Function fadeToBlack
                                     48 ; ---------------------------------
      000000                         49 _fadeToBlack::
                                     50 ;func/fade.c:12: for(i = 0; i < 4; i++){
      000000 AF                      51 	xor	a, a
      000001 21r00r00                52 	ld	hl, #_i
      000004 22                      53 	ld	(hl+), a
      000005 77                      54 	ld	(hl), a
      000006                         55 00107$:
                                     56 ;func/fade.c:13: switch(i){
      000006 21r00r00                57 	ld	hl, #_i
      000009 2A                      58 	ld	a, (hl+)
      00000A B7                      59 	or	a, a
      00000B B6                      60 	or	a, (hl)
      00000C 28 1C                   61 	jr	Z, 00101$
      00000E 21r00r00                62 	ld	hl, #_i
      000011 2A                      63 	ld	a, (hl+)
      000012 3D                      64 	dec	a
      000013 B6                      65 	or	a, (hl)
      000014 28 1A                   66 	jr	Z, 00102$
      000016 21r00r00                67 	ld	hl, #_i
      000019 2A                      68 	ld	a, (hl+)
      00001A D6 02                   69 	sub	a, #0x02
      00001C B6                      70 	or	a, (hl)
      00001D 28 17                   71 	jr	Z, 00103$
      00001F 21r00r00                72 	ld	hl, #_i
      000022 2A                      73 	ld	a, (hl+)
      000023 D6 03                   74 	sub	a, #0x03
      000025 B6                      75 	or	a, (hl)
      000026 28 14                   76 	jr	Z, 00104$
      000028 18 16                   77 	jr	00105$
                                     78 ;func/fade.c:14: case 0:
      00002A                         79 00101$:
                                     80 ;func/fade.c:15: BGP_REG = 0xE4;
      00002A 3E E4                   81 	ld	a, #0xe4
      00002C E0r00                   82 	ldh	(_BGP_REG + 0), a
                                     83 ;func/fade.c:16: break;
      00002E 18 10                   84 	jr	00105$
                                     85 ;func/fade.c:17: case 1:
      000030                         86 00102$:
                                     87 ;func/fade.c:18: BGP_REG = 0xF9;
      000030 3E F9                   88 	ld	a, #0xf9
      000032 E0r00                   89 	ldh	(_BGP_REG + 0), a
                                     90 ;func/fade.c:19: break;
      000034 18 0A                   91 	jr	00105$
                                     92 ;func/fade.c:20: case 2:
      000036                         93 00103$:
                                     94 ;func/fade.c:21: BGP_REG = 0xFE;
      000036 3E FE                   95 	ld	a, #0xfe
      000038 E0r00                   96 	ldh	(_BGP_REG + 0), a
                                     97 ;func/fade.c:22: break;
      00003A 18 04                   98 	jr	00105$
                                     99 ;func/fade.c:23: case 3:
      00003C                        100 00104$:
                                    101 ;func/fade.c:24: BGP_REG = 0xFF;
      00003C 3E FF                  102 	ld	a, #0xff
      00003E E0r00                  103 	ldh	(_BGP_REG + 0), a
                                    104 ;func/fade.c:26: }
      000040                        105 00105$:
                                    106 ;func/fade.c:27: betterDelay(delayTime);
      000040 F8 02                  107 	ldhl	sp,	#2
      000042 2A                     108 	ld	a, (hl+)
      000043 5F                     109 	ld	e, a
      000044 56                     110 	ld	d, (hl)
      000045 D5                     111 	push	de
      000046 CDr00r00               112 	call	_betterDelay
      000049 E1                     113 	pop	hl
                                    114 ;func/fade.c:12: for(i = 0; i < 4; i++){
      00004A 21r00r00               115 	ld	hl, #_i
      00004D 34                     116 	inc	(hl)
      00004E 20 02                  117 	jr	NZ, 00140$
      000050 23                     118 	inc	hl
      000051 34                     119 	inc	(hl)
      000052                        120 00140$:
      000052 21r00r00               121 	ld	hl, #_i
      000055 2A                     122 	ld	a, (hl+)
      000056 D6 04                  123 	sub	a, #0x04
      000058 7E                     124 	ld	a, (hl)
      000059 DE 00                  125 	sbc	a, #0x00
      00005B 38 A9                  126 	jr	C, 00107$
                                    127 ;func/fade.c:29: }
      00005D C9                     128 	ret
                                    129 ;func/fade.c:32: void fadeFromBlack(unsigned int delayTime){
                                    130 ;	---------------------------------
                                    131 ; Function fadeFromBlack
                                    132 ; ---------------------------------
      00005E                        133 _fadeFromBlack::
                                    134 ;func/fade.c:33: for(i = 0; i < 4; i++){
      00005E AF                     135 	xor	a, a
      00005F 21r00r00               136 	ld	hl, #_i
      000062 22                     137 	ld	(hl+), a
      000063 77                     138 	ld	(hl), a
      000064                        139 00107$:
                                    140 ;func/fade.c:34: switch(i){
      000064 21r00r00               141 	ld	hl, #_i
      000067 2A                     142 	ld	a, (hl+)
      000068 B7                     143 	or	a, a
      000069 B6                     144 	or	a, (hl)
      00006A 28 1C                  145 	jr	Z, 00101$
      00006C 21r00r00               146 	ld	hl, #_i
      00006F 2A                     147 	ld	a, (hl+)
      000070 3D                     148 	dec	a
      000071 B6                     149 	or	a, (hl)
      000072 28 1A                  150 	jr	Z, 00102$
      000074 21r00r00               151 	ld	hl, #_i
      000077 2A                     152 	ld	a, (hl+)
      000078 D6 02                  153 	sub	a, #0x02
      00007A B6                     154 	or	a, (hl)
      00007B 28 17                  155 	jr	Z, 00103$
      00007D 21r00r00               156 	ld	hl, #_i
      000080 2A                     157 	ld	a, (hl+)
      000081 D6 03                  158 	sub	a, #0x03
      000083 B6                     159 	or	a, (hl)
      000084 28 14                  160 	jr	Z, 00104$
      000086 18 16                  161 	jr	00105$
                                    162 ;func/fade.c:35: case 0:
      000088                        163 00101$:
                                    164 ;func/fade.c:36: BGP_REG = 0xFF;
      000088 3E FF                  165 	ld	a, #0xff
      00008A E0r00                  166 	ldh	(_BGP_REG + 0), a
                                    167 ;func/fade.c:37: break;
      00008C 18 10                  168 	jr	00105$
                                    169 ;func/fade.c:38: case 1:
      00008E                        170 00102$:
                                    171 ;func/fade.c:39: BGP_REG = 0xFE;
      00008E 3E FE                  172 	ld	a, #0xfe
      000090 E0r00                  173 	ldh	(_BGP_REG + 0), a
                                    174 ;func/fade.c:40: break;
      000092 18 0A                  175 	jr	00105$
                                    176 ;func/fade.c:41: case 2:
      000094                        177 00103$:
                                    178 ;func/fade.c:42: BGP_REG = 0xF9;
      000094 3E F9                  179 	ld	a, #0xf9
      000096 E0r00                  180 	ldh	(_BGP_REG + 0), a
                                    181 ;func/fade.c:43: break;
      000098 18 04                  182 	jr	00105$
                                    183 ;func/fade.c:44: case 3:
      00009A                        184 00104$:
                                    185 ;func/fade.c:45: BGP_REG = 0xE4;
      00009A 3E E4                  186 	ld	a, #0xe4
      00009C E0r00                  187 	ldh	(_BGP_REG + 0), a
                                    188 ;func/fade.c:47: }
      00009E                        189 00105$:
                                    190 ;func/fade.c:48: betterDelay(delayTime);
      00009E F8 02                  191 	ldhl	sp,	#2
      0000A0 2A                     192 	ld	a, (hl+)
      0000A1 5F                     193 	ld	e, a
      0000A2 56                     194 	ld	d, (hl)
      0000A3 D5                     195 	push	de
      0000A4 CDr00r00               196 	call	_betterDelay
      0000A7 E1                     197 	pop	hl
                                    198 ;func/fade.c:33: for(i = 0; i < 4; i++){
      0000A8 21r00r00               199 	ld	hl, #_i
      0000AB 34                     200 	inc	(hl)
      0000AC 20 02                  201 	jr	NZ, 00140$
      0000AE 23                     202 	inc	hl
      0000AF 34                     203 	inc	(hl)
      0000B0                        204 00140$:
      0000B0 21r00r00               205 	ld	hl, #_i
      0000B3 2A                     206 	ld	a, (hl+)
      0000B4 D6 04                  207 	sub	a, #0x04
      0000B6 7E                     208 	ld	a, (hl)
      0000B7 DE 00                  209 	sbc	a, #0x00
      0000B9 38 A9                  210 	jr	C, 00107$
                                    211 ;func/fade.c:50: }
      0000BB C9                     212 	ret
                                    213 	.area _CODE
                                    214 	.area _INITIALIZER
                                    215 	.area _CABS (ABS)
